<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Open Decks Scheduler</title><script crossorigin src="https://unpkg.com/fflate@0.8.2/umd/index.js"></script><script crossorigin src="https://unpkg.com/react@18.2.0/umd/react.production.min.js"></script><script crossorigin src="https://unpkg.com/react-dom@18.2.0/umd/react-dom.production.min.js"></script></head><body><div id="root"></div><script defer="defer">/*! For license information please see main.3a5c5271b0800936dcf9.js.LICENSE.txt */
(()=>{"use strict";var n={20:(n,e,t)=>{var o=t(594),r=Symbol.for("react.element"),a=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),s=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(n,e,t){var o,l={},d=null,c=null;for(o in void 0!==t&&(d=""+t),void 0!==e.key&&(d=""+e.key),void 0!==e.ref&&(c=e.ref),e)a.call(e,o)&&!i.hasOwnProperty(o)&&(l[o]=e[o]);if(n&&n.defaultProps)for(o in e=n.defaultProps)void 0===l[o]&&(l[o]=e[o]);return{$$typeof:r,type:n,key:d,ref:c,props:l,_owner:s.current}}e.jsx=l,e.jsxs=l},56:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},72:n=>{var e=[];function t(n){for(var t=-1,o=0;o<e.length;o++)if(e[o].identifier===n){t=o;break}return t}function o(n,o){for(var a={},s=[],i=0;i<n.length;i++){var l=n[i],d=o.base?l[0]+o.base:l[0],c=a[d]||0,u="".concat(d," ").concat(c);a[d]=c+1;var m=t(u),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==m)e[m].references++,e[m].updater(p);else{var f=r(p,o);o.byIndex=i,e.splice(i,0,{identifier:u,updater:f,references:1})}s.push(u)}return s}function r(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,r){var a=o(n=n||[],r=r||{});return function(n){n=n||[];for(var s=0;s<a.length;s++){var i=t(a[s]);e[i].references--}for(var l=o(n,r),d=0;d<a.length;d++){var c=t(a[d]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}a=l}}},113:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},129:(n,e,t)=>{t.d(e,{A:()=>i});var o=t(601),r=t.n(o),a=t(314),s=t.n(a)()(r());s.push([n.id,"/* Base button styles */\n.btn-base {\n  padding: 10px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 1em;\n  font-weight: bold;\n  color: white;\n  transition: filter 0.2s;\n}\n\n.btn-base:hover {\n  filter: brightness(85%);\n}\n\n/* Button color variants */\n.btn-purple {\n  background: #6c07db;\n}\n\n.btn-gray {\n  background: #666;\n}\n\n.btn-orange {\n  background: #f38229;\n}\n\n.btn-pink {\n  background: #b73288;\n}\n\n.btn-light-blue {\n  background: #7acfde;\n}\n",""]);const i=s},171:(n,e,t)=>{t.d(e,{A:()=>i});var o=t(601),r=t.n(o),a=t(314),s=t.n(a)()(r());s.push([n.id,"* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  font-family: 'Verdana';\n  font-weight: bold;\n  background: white;\n  color: black;\n  margin: 0;\n  padding: 0;\n}\n\nhtml,\nbody {\n  width: 100%;\n  height: 100%;\n}\n",""]);const i=s},206:n=>{n.exports=ReactDOM},314:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map(function(e){var t="",o=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),o&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),o&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t}).join("")},e.i=function(n,t,o,r,a){"string"==typeof n&&(n=[[null,n,void 0]]);var s={};if(o)for(var i=0;i<this.length;i++){var l=this[i][0];null!=l&&(s[l]=!0)}for(var d=0;d<n.length;d++){var c=[].concat(n[d]);o&&s[c[0]]||(void 0!==a&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=a),t&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=t):c[2]=t),r&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=r):c[4]="".concat(r)),e.push(c))}},e}},323:(n,e,t)=>{t.d(e,{A:()=>i});var o=t(601),r=t.n(o),a=t(314),s=t.n(a)()(r());s.push([n.id,".modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n}\n\n.modal-content {\n  background: white;\n  border-radius: 8px;\n  padding: 30px;\n  width: 500px;\n  max-width: 90%;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\n}\n\n.modal-content h3 {\n  margin-bottom: 20px;\n  font-size: 1.4em;\n}\n\n.modal-field {\n  margin-bottom: 20px;\n}\n\n.modal-field label {\n  display: block;\n  margin-bottom: 5px;\n  color: #555;\n  font-size: 0.95em;\n  font-weight: normal;\n}\n\n.modal-field input {\n  width: 100%;\n  padding: 8px 12px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  font-size: 1em;\n  font-weight: normal;\n}\n\n.modal-actions {\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  gap: 10px;\n  margin-top: 25px;\n}\n\n/* Delete Confirmation Dialog */\n.delete-confirm {\n  margin-top: 20px;\n  padding: 20px;\n  background: #ffebee;\n  border: 2px solid #f44336;\n  border-radius: 4px;\n}\n\n.delete-confirm p {\n  margin-bottom: 15px;\n  color: #c62828;\n  font-weight: bold;\n  text-align: center;\n}\n\n.confirm-actions {\n  display: flex;\n  gap: 10px;\n}\n",""]);const i=s},338:(n,e,t)=>{var o=t(206);e.createRoot=o.createRoot,e.hydrateRoot=o.hydrateRoot},397:(n,e,t)=>{t.d(e,{A:()=>i});var o=t(601),r=t.n(o),a=t(314),s=t.n(a)()(r());s.push([n.id,".slot {\n  display: flex;\n  align-items: center;\n  page-break-inside: avoid;\n  margin: 0.75em 0;\n  border-color: #aaa;\n  border-style: solid;\n  position: relative;\n}\n\n@media screen {\n  .slot {\n    max-width: 43em; /* matches printable width with default margins */\n  }\n}\n\n.slot.special {\n  background: linear-gradient(135deg, #f5f5f5 0%, #e5e5e5 100%);\n  border-color: #777;\n}\n\n.time-container {\n  padding: 0 1.5em;\n  text-align: center;\n}\n\n.time {\n  font-size: 2.5em;\n}\n\n.raffle-info {\n  color: #444;\n  font-size: 1.5em;\n  padding-top: 0.5em;\n}\n\n.event-container {\n  height: 100%;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n\n.dj-set {\n  display: flex;\n  align-items: center;\n  padding-left: 0.5em;\n  font-size: 2.5em;\n  height: 100%;\n}\n\n.write-space {\n  flex: 1;\n  min-height: 75%;\n  border-bottom: 0.1em dotted #888;\n  margin-right: 6%;\n}\n\n.edit-slot-button {\n  position: absolute;\n  right: -50px;\n  top: 50%;\n  transform: translateY(-50%);\n  width: 36px;\n  height: 36px;\n  border-radius: 50%;\n  border: 1px solid #ccc;\n  background: white;\n  cursor: pointer;\n  font-size: 18px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s;\n}\n\n.edit-slot-button:hover {\n  filter: brightness(85%);\n}\n\n.end-time {\n  .slot {\n    background: none;\n    border: none;\n    opacity: 0.3;\n  }\n}\n",""]);const i=s},415:(n,e,t)=>{t.d(e,{A:()=>i});var o=t(601),r=t.n(o),a=t(314),s=t.n(a)()(r());s.push([n.id,".sidebar {\n  min-width: 300px;\n  width: 300px;\n  background: #f8f8f8;\n  border-right: 2px solid #ddd;\n  padding: 20px;\n  box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);\n}\n\n.sidebar a {\n  font-weight: normal;\n  font-size: 0.8rem;\n}\n\n.sidebar h3 {\n  margin-bottom: 18px;\n  font-size: 1.2em;\n}\n\n.sidebar .btn-base {\n  margin-bottom: 12px;\n  width: 100%;\n}\n\n.control-group {\n  margin-bottom: 12px;\n}\n\n.control-group label {\n  display: block;\n  margin-bottom: 5px;\n  color: #555;\n  font-size: 0.95em;\n}\n\n.control-group input {\n  width: 100%;\n  padding: 8px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  font-size: 1em;\n  font-weight: normal;\n}\n\n.inline-inputs {\n  display: flex;\n  align-items: center;\n  gap: 5px;\n}\n\n.time-input {\n  width: 60px !important;\n  padding: 8px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  font-size: 1em;\n  font-weight: normal;\n  text-align: center;\n}\n\n.time-separator {\n  font-size: 1.2em;\n  font-weight: bold;\n}\n\n.time-format-select {\n  padding: 8px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  font-size: 1em;\n  font-weight: normal;\n  background: white;\n  cursor: pointer;\n}\n",""]);const i=s},540:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},563:(n,e,t)=>{t.d(e,{A:()=>i});var o=t(601),r=t.n(o),a=t(314),s=t.n(a)()(r());s.push([n.id,"a,\nh3 {\n  color: #333;\n}\n\n.app-container {\n  display: flex;\n  min-height: 100vh;\n}\n\n.schedule-container {\n  flex: 1;\n  padding: 20px;\n  max-width: 210mm;\n  transform-origin: top center;\n}\n\n@media screen {\n  .schedule-container {\n    font-size: 40%; /* Scale down for screen display */\n    margin: 0 auto;\n    padding-right: 60px; /* Space for edit buttons */\n    overflow-y: hidden;\n  }\n}\n\n.raffle-warning {\n  background: #fff3cd;\n  border: 2px solid #ffc107;\n  border-radius: 4px;\n  padding: 15px;\n  margin-bottom: 12px;\n  color: #856404;\n  text-align: center;\n  font-size: 1rem;\n}\n\n.show-sidebar-button {\n  position: fixed;\n  top: 20px;\n  left: 20px;\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  background: #666;\n  color: white;\n  border: none;\n  cursor: pointer;\n  font-size: 1.2em;\n  z-index: 100;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s;\n}\n\n.show-sidebar-button:hover {\n  filter: brightness(85%);\n}\n\n/* Print mode adjustments */\n@page {\n  size: A4;\n}\n\n@media print {\n  .ui {\n    display: none;\n  }\n\n  .app-container {\n    display: block;\n  }\n}\n",""]);const i=s},594:n=>{n.exports=React},601:n=>{n.exports=function(n){return n[1]}},659:n=>{var e={};n.exports=function(n,t){var o=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var o="";t.supports&&(o+="@supports (".concat(t.supports,") {")),t.media&&(o+="@media ".concat(t.media," {"));var r=void 0!==t.layer;r&&(o+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),o+=t.css,r&&(o+="}"),t.media&&(o+="}"),t.supports&&(o+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(o,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},848:(n,e,t)=>{n.exports=t(20)},979:(n,e,t)=>{t.d(e,{A:()=>i});var o=t(601),r=t.n(o),a=t(314),s=t.n(a)()(r());s.push([n.id,"@keyframes slideIn {\n  from {\n    transform: translateY(100%);\n    opacity: 0;\n  }\n  to {\n    transform: translateY(0);\n    opacity: 1;\n  }\n}\n\n@keyframes slideOut {\n  from {\n    transform: translateY(0);\n    opacity: 1;\n  }\n  to {\n    transform: translateY(100%);\n    opacity: 0;\n  }\n}\n\n.toast {\n  position: fixed;\n  bottom: 20px;\n  left: 50%;\n  transform: translateX(-50%);\n  background-color: #333;\n  color: white;\n  padding: 12px 24px;\n  border-radius: 8px;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);\n  z-index: 1000;\n  animation: slideIn 0.3s ease-out;\n  font-size: 14px;\n  white-space: nowrap;\n}\n\n.toast.closing {\n  animation: slideOut 0.3s ease-out;\n}\n\n@media print {\n  .toast {\n    display: none;\n  }\n}\n",""]);const i=s}},e={};function t(o){var r=e[o];if(void 0!==r)return r.exports;var a=e[o]={id:o,exports:{}};return n[o](a,a.exports,t),a.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var o in e)t.o(e,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.nc=void 0;var o=t(848),r=t(594),a=t(338);const s={slotBorder:2,slotBorderBrightness:9,slotConfigs:Array.from({length:14},()=>({})),slotDefaultDuration:20,slotHeight:44,slotRoundness:0,startHour:18,startMinute:20,timeFormat:"24h"},i=({slots:n})=>{const e=n.reduce((n,e)=>n+(e.raffles||0),0),t=n.filter(n=>!n.special).length;return e===t?null:(0,o.jsxs)("div",{className:"ui raffle-warning",children:["âš ï¸ You have ",t," free slot(s) but ",e," raffle(s)."]})},l=fflate;function d(n){return n instanceof Error?n.message:"string"==typeof n?n:"Unknown error"}function c(n,e,t="24h"){return"12h"===t?`${String(0===n?12:n>12?n-12:n).padStart(2,"0")}:${String(e).padStart(2,"0")}`:`${String(n).padStart(2,"0")}:${String(e).padStart(2,"0")}`}function u(n){return parseInt(n,10)||0}var m=t(72),p=t.n(m),f=t(825),h=t.n(f),g=t(659),x=t.n(g),b=t(56),v=t.n(b),y=t(540),S=t.n(y),j=t(113),w=t.n(j),C=t(129),A={};A.styleTagTransform=w(),A.setAttributes=v(),A.insert=x().bind(null,"head"),A.domAPI=h(),A.insertStyleElement=S(),p()(C.A,A),C.A&&C.A.locals&&C.A.locals;const k=({color:n,text:e,onClick:t,type:r="button"})=>(0,o.jsx)("button",{className:`btn-base btn-${n}`,onClick:t,type:r,children:e});var N=t(415),R={};R.styleTagTransform=w(),R.setAttributes=v(),R.insert=x().bind(null,"head"),R.domAPI=h(),R.insertStyleElement=S(),p()(N.A,R),N.A&&N.A.locals&&N.A.locals;const B=({numSlots:n,onAutoAssignRaffles:e,onSlotDefaultDurationChange:t,onHideSettings:r,onNumSlotsChange:a,onPrint:s,onReset:i,onShare:l,onSlotBorderChange:d,onSlotBorderBrightnessChange:c,onSlotHeightChange:m,onSlotRoundnessChange:p,onStartHourChange:f,onStartMinuteChange:h,onTimeFormatChange:g,raffleWarning:x,slotBorder:b,slotBorderBrightness:v,slotDefaultDuration:y,slotHeight:S,slotRoundness:j,startHour:w,startMinute:C,timeFormat:A})=>(0,o.jsxs)("div",{className:"ui sidebar",children:[(0,o.jsx)("h3",{children:"Open Decks Scheduler"}),(0,o.jsxs)("div",{className:"control-group",children:[(0,o.jsx)("label",{children:"Start Time"}),(0,o.jsxs)("div",{className:"inline-inputs",children:[(0,o.jsx)("input",{type:"number",min:"0",max:"24h"===A?23:12,value:w,onChange:n=>f(parseInt(n.target.value)),className:"time-input","aria-label":"Start hour"}),(0,o.jsx)("span",{className:"time-separator",children:":"}),(0,o.jsx)("input",{type:"number",min:"0",max:"59",value:C,onChange:n=>h(parseInt(n.target.value)),className:"time-input","aria-label":"Start minute"}),"@",(0,o.jsxs)("select",{value:A,onChange:n=>g(n.target.value),className:"time-format-select","aria-label":"Time format",children:[(0,o.jsx)("option",{value:"24h",children:"24h"}),(0,o.jsx)("option",{value:"12h",children:"AM/PM"})]})]})]}),(0,o.jsxs)("div",{className:"control-group",children:[(0,o.jsx)("label",{htmlFor:"numSlots",children:"Number of Slots"}),(0,o.jsx)("input",{id:"numSlots",type:"number",min:"1",max:"30",value:n,onChange:n=>a(u(n.target.value))})]}),(0,o.jsxs)("div",{className:"control-group",children:[(0,o.jsx)("label",{htmlFor:"duration",children:"Default Duration (min)"}),(0,o.jsx)("input",{id:"duration",type:"number",min:"0",max:"120",value:y,onChange:n=>t(u(n.target.value))})]}),(0,o.jsxs)("div",{className:"control-group",children:[(0,o.jsx)("label",{htmlFor:"slotHeight",children:"Slot Print Height (mm)"}),(0,o.jsx)("input",{id:"slotHeight",type:"number",min:"10",max:"300",value:S,onChange:n=>m(u(n.target.value))})]}),(0,o.jsxs)("div",{className:"control-group",children:[(0,o.jsx)("label",{children:"Slot Style"}),(0,o.jsxs)("div",{className:"inline-inputs",children:["â˜â€¯â™â€¯âš",(0,o.jsx)("input",{"aria-label":"Slot Border Thickness",id:"slotBorder",type:"number",min:"0",max:"1000",value:b,onChange:n=>d(u(n.target.value))}),"â•­",(0,o.jsx)("input",{"aria-label":"Slot Roundness",id:"slotRoundness",type:"number",min:"0",max:"1000",value:j,onChange:n=>p(u(n.target.value))}),"â˜¼",(0,o.jsx)("input",{"aria-label":"Slot Border Brightness",id:"slotBorderBrightness",type:"number",min:"0",max:"15",value:v,onChange:n=>c(u(n.target.value))})]})]}),(0,o.jsx)(k,{color:"pink",text:"ðŸŽ² Auto-assign Raffles",onClick:e}),(0,o.jsx)(k,{color:"purple",text:"ðŸ–¨ï¸ Print Schedule",onClick:s}),(0,o.jsx)(k,{color:"purple",text:"ðŸ”— Share Schedule",onClick:l}),(0,o.jsx)(k,{color:"orange",text:"ðŸ”„ Reset to Defaults",onClick:i}),(0,o.jsx)(k,{color:"gray",text:"Hide Settings",onClick:r}),x,(0,o.jsx)("a",{href:"http://github.com/jaynetics/open-decks-scheduler",children:"Source code"})]});var E=t(397),D={};D.styleTagTransform=w(),D.setAttributes=v(),D.insert=x().bind(null,"head"),D.domAPI=h(),D.insertStyleElement=S(),p()(E.A,D),E.A&&E.A.locals&&E.A.locals;const T=n=>{const e=n.special?n.borderBrightness-5:n.borderBrightness,t=Math.max(0,Math.min(e,15)).toString(16);return`#${t}${t}${t}`},M=({slot:n,timeFormat:e,onEdit:t})=>(0,o.jsxs)("div",{className:"slot "+(n.special?"special":""),style:{height:n.height/5.4+"em",borderRadius:n.roundness/5.4+"em",borderWidth:(n.special?.15:.1)*n.border+"em",borderColor:T(n)},children:[(0,o.jsxs)("div",{className:"time-container",children:[(0,o.jsx)("div",{className:"time",children:c(n.hour,n.minute,e)}),n.raffles?(0,o.jsxs)("div",{className:"raffle-info",children:[n.raffles,"x Raffle"]}):null]}),(0,o.jsx)("div",{className:"event-container",children:(0,o.jsx)("div",{className:"dj-set",children:n.special?(0,o.jsx)("span",{children:n.special}):(0,o.jsx)("div",{className:"write-space"})})}),t&&(0,o.jsx)("button",{className:"ui edit-slot-button",onClick:t,title:"Edit slot","aria-label":`Edit slot ${n.index+1}`,children:"âœï¸"})]});var F=t(323),I={};I.styleTagTransform=w(),I.setAttributes=v(),I.insert=x().bind(null,"head"),I.domAPI=h(),I.insertStyleElement=S(),p()(F.A,I),F.A&&F.A.locals&&F.A.locals;const z=({slot:n,slotIndex:e,timeFormat:t,onSave:a,onDelete:s,onInsert:i,onClose:l})=>{const[d,m]=(0,r.useState)(n.special),[p,f]=(0,r.useState)(n.raffles),[h,g]=(0,r.useState)(n.duration);return(0,r.useEffect)(()=>{const n=n=>{"Escape"===n.key&&l()};return document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",n)}},[l]),(0,o.jsx)("div",{className:"modal-overlay",onClick:l,children:(0,o.jsxs)("div",{className:"modal-content",onClick:n=>n.stopPropagation(),children:[(0,o.jsxs)("h3",{children:["Edit Slot ",e+1," (",c(n.hour,n.minute,t),")"]}),(0,o.jsxs)("form",{onSubmit:n=>{n.preventDefault(),a(e,{special:d,raffles:p,duration:h})},children:[(0,o.jsxs)("div",{className:"modal-field",children:[(0,o.jsx)("label",{htmlFor:`special-${e}`,children:"Special Content (leave empty for regular DJ slot)"}),(0,o.jsx)("input",{id:`special-${e}`,type:"text",value:d||"",onChange:n=>m(n.target.value),placeholder:"e.g., Featured DJ: XY / Social Break / ..."})]}),(0,o.jsxs)("div",{className:"modal-field",children:[(0,o.jsx)("label",{htmlFor:`raffles-${e}`,children:"Number of Raffles"}),(0,o.jsx)("input",{id:`raffles-${e}`,type:"number",value:p||0,min:"0",max:"10",onChange:n=>f(u(n.target.value))})]}),(0,o.jsxs)("div",{className:"modal-field",children:[(0,o.jsx)("label",{htmlFor:`duration-${e}`,children:"Duration (minutes)"}),(0,o.jsx)("input",{id:`duration-${e}`,type:"number",value:h,min:"0",max:"120",onChange:n=>g(u(n.target.value))})]}),(0,o.jsxs)("div",{className:"modal-actions",children:[(0,o.jsx)(k,{text:"Add Slot Above",color:"pink",onClick:()=>{i(e,"above")}}),(0,o.jsx)(k,{text:"Add Slot Below",color:"pink",onClick:()=>{i(e,"below")}}),(0,o.jsx)(k,{text:"Save",color:"purple",type:"submit"}),(0,o.jsx)(k,{text:"Clear",color:"orange",onClick:()=>{a(e,{})}}),(0,o.jsx)(k,{text:"Delete Slot",color:"orange",onClick:()=>{confirm("Are you sure you want to delete this slot?")&&s(e)}}),(0,o.jsx)(k,{text:"Cancel",color:"gray",onClick:l})]})]})]})})};var H=t(979),P={};P.styleTagTransform=w(),P.setAttributes=v(),P.insert=x().bind(null,"head"),P.domAPI=h(),P.insertStyleElement=S(),p()(H.A,P),H.A&&H.A.locals&&H.A.locals;const $=({message:n,duration:e=3e3})=>{const[t,a]=(0,r.useState)(!!n);return(0,r.useEffect)(()=>{if(a(!!n),!n)return;const t=setTimeout(()=>a(!1),e);return()=>clearTimeout(t)},[e,n,a]),t?(0,o.jsx)("div",{className:"toast",children:(0,o.jsx)("span",{children:n})}):null};var O=t(563),_={};_.styleTagTransform=w(),_.setAttributes=v(),_.insert=x().bind(null,"head"),_.domAPI=h(),_.insertStyleElement=S(),p()(O.A,_),O.A&&O.A.locals&&O.A.locals;const U=({slots:n,timeFormat:e})=>{if(0===n.length)return null;const t=n[n.length-1],r=new Date(2e3,1,1,t.hour,t.minute);return r.setMinutes(r.getMinutes()+t.duration),(0,o.jsx)("div",{className:"ui end-time",children:(0,o.jsx)(M,{slot:{...t,duration:0,index:NaN,hour:r.getHours(),minute:r.getMinutes(),special:"End of last slot"},timeFormat:e})})};var L=t(171),Y={};Y.styleTagTransform=w(),Y.setAttributes=v(),Y.insert=x().bind(null,"head"),Y.domAPI=h(),Y.insertStyleElement=S(),p()(L.A,Y),L.A&&L.A.locals&&L.A.locals,a.createRoot(document.getElementById("root")).render((0,o.jsx)(r.StrictMode,{children:(0,o.jsx)(()=>{const n=function(){const n=(0,r.useMemo)(()=>function(){try{const n=window.location.hash.slice(1);if(!n)return s;const e=function(n){try{const e=atob(decodeURIComponent(n)),t=(0,l.strToU8)(e,!0),o=(0,l.gunzipSync)(t),r=(0,l.strFromU8)(o);return JSON.parse(r)}catch(n){throw new Error(`Failed to decompress state: ${d(n)}`)}}(n);return function(n){return"number"==typeof n.v&&n.v<=1&&"object"==typeof n.d}(e)?(1!==e.v&&console.info(`Migrating state from version ${e.v} to 1`),{...s,...e.d}):(console.warn("Invalid state in URL, ignoring"),s)}catch(n){return console.error("Failed to load app state:",n),s}}(),[]);return(0,r.useEffect)(()=>{window.location.hash=""},[]),n}(),[e,t]=(0,r.useState)(n.startHour),[a,c]=(0,r.useState)(n.startMinute),[u,m]=(0,r.useState)(n.timeFormat),[p,f]=(0,r.useState)(n.slotHeight),[h,g]=(0,r.useState)(n.slotDefaultDuration),[x,b]=(0,r.useState)(n.slotRoundness),[v,y]=(0,r.useState)(n.slotBorder),[S,j]=(0,r.useState)(n.slotBorderBrightness),[w,C]=(0,r.useState)(!0),[A,k]=(0,r.useState)(n.slotConfigs),[N,R]=(0,r.useState)(null),[E,D]=(0,r.useState)(null);(0,r.useEffect)(()=>{C(window.innerWidth>500)},[]);const T=(0,r.useMemo)(()=>{const n=function(n,e,t,o){const r=new Date(2e3,1,1,t,o);return n.map((n,t)=>{const o=r.getHours(),a=r.getMinutes(),s=n.duration??e;return r.setMinutes(r.getMinutes()+s),{duration:s,hour:o,minute:a,index:t,...n}})}(A,h,e,a);return n.map(n=>({...n,border:v,borderBrightness:S,height:p,roundness:x}))},[v,S,A,h,p,x,e,a]),F=(0,o.jsx)(i,{slots:T});return(0,o.jsxs)("div",{className:"app-container",children:[w&&(0,o.jsx)(B,{numSlots:A.length,onAutoAssignRaffles:()=>{k(function(n){const e=[...n],t=[];e.forEach((n,e)=>{n.special||t.push(e)});const o=t.length,r=o%2==1;if(e.forEach((n,t)=>{const{raffles:o,...r}=n;e[t]=r}),0===t.length)return e;if(e[t[0]]={...e[t[0]],raffles:2},r){const n=(o-1)/2;let r=1;for(let o=1;o<t.length&&r<n;o+=2){const a=t[o];r++,e[a]=r===n?{...e[a],raffles:3}:{...e[a],raffles:2}}}else for(let n=1;n<t.length-1;n+=2){const o=t[n];e[o]={...e[o],raffles:2}}return e}(A))},onHideSettings:()=>C(!1),onNumSlotsChange:n=>{k(e=>[...e.slice(0,n),...Array.from({length:n-e.length},()=>({}))])},onPrint:()=>window.print(),onReset:()=>{confirm("Are you sure you want to reset all settings?")&&(y(s.slotBorder),j(s.slotBorderBrightness),g(s.slotDefaultDuration),f(s.slotHeight),b(s.slotRoundness),t(s.startHour),c(s.startMinute),m(s.timeFormat),k(s.slotConfigs))},onShare:async()=>{const n=function(n){try{const e=function(n){try{const e=JSON.stringify(n),t=(0,l.strToU8)(e),o=(0,l.gzipSync)(t);return encodeURIComponent(btoa(String.fromCharCode(...o)))}catch(n){throw new Error(`Failed to compress state: ${d(n)}`)}}({d:n,v:1}),t=new URL(window.location.origin+window.location.pathname);return t.hash=e,t.toString()}catch(n){return console.error("Failed to generate shareable URL:",n),"ERROR"}}({slotBorder:v,slotBorderBrightness:S,slotConfigs:A,slotDefaultDuration:h,slotHeight:p,slotRoundness:x,startHour:e,startMinute:a,timeFormat:u});await navigator.clipboard.writeText(n),D("Schedule URL copied to clipboard!")},onSlotBorderChange:y,onSlotBorderBrightnessChange:j,onSlotDefaultDurationChange:g,onSlotHeightChange:f,onSlotRoundnessChange:b,onStartHourChange:t,onStartMinuteChange:c,onTimeFormatChange:m,raffleWarning:F,slotBorder:v,slotBorderBrightness:S,slotDefaultDuration:h,slotHeight:p,slotRoundness:x,startHour:e,startMinute:a,timeFormat:u}),!w&&(0,o.jsx)("button",{className:"ui show-sidebar-button",onClick:()=>C(!0),"aria-label":"Show settings",children:"âš™ï¸"}),(0,o.jsxs)("div",{className:"schedule-container",children:[!w&&F,T.map(n=>(0,o.jsx)(M,{slot:n,timeFormat:u,onEdit:()=>R(n.index)},n.index)),(0,o.jsx)(U,{slots:T,timeFormat:u})]}),null!==N&&(0,o.jsx)(z,{slot:T[N],slotIndex:N,timeFormat:u,onSave:(n,e)=>{k(t=>{const o=[...t];return o[n]=e,o}),R(null)},onDelete:n=>{k(e=>{const t=[...e];return t.splice(n,1),t}),R(null)},onInsert:(n,e)=>{k(t=>{const o=[...t],r="above"===e?n:n+1;return o.splice(r,0,{}),o}),R(null)},onClose:()=>R(null)}),(0,o.jsx)($,{message:E})]})},{})}))})()</script></body></html>